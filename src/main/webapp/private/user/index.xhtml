<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
	<h:head>
		<title>Panel</title>
		<!-- Import Material Icons Font -->
		<link rel="stylesheet"
			href="../../css/material-icons.css" />
		<!-- Material Design CSS -->
		<link rel="stylesheet"
			href="../../css/materialize.css" />
		<!-- Import jQuery before materialize.js -->
		<script type="text/javascript"
			src="../../js/jquery-3.2.1.min.js"></script>
		<!-- Material Design Javascript -->
		<script type="text/javascript"
			src="../../js/materialize.js"></script>
		<!-- Controller Javascript -->
		<script type="text/javascript" src="../../js/controller.js"></script>
		<!-- Initialize Custom Elements -->
		<script type="text/javascript">
			$(document).ready(function() {
				$('select').material_select();
			});
		</script>
	</h:head>
	<h:body>
   		<div id="sideNavigation" class="side-nav fixed hoverable" style="position: absolute; top: 0; left: 0; bottom: 0; right: 80%; width: auto; height: 100%; transform: translateX(0%) !important;">
   			<ul style="width: 100%; position: absolute; bottom: 33%;">
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#departmentsDiv')">Departments<i class="material-icons">business</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#sectorsDiv')">Sectors<i class="material-icons">work</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#rolesDiv')">Roles<i class="material-icons">verified_user</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#permissionsDiv')">Permissions<i class="material-icons">thumbs_up_down</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#usersDiv')">Users<i class="material-icons">group</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#countriesDiv')">Countries<i class="material-icons">terrain</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#employeesDiv')">Employees<i class="material-icons">face</i></a></li>
	  			<li><a class="waves-effect waves-indigo" onclick="showTable('#childrenDiv')">Children<i class="material-icons">child_care</i></a></li>
	  			<li><div class="divider"></div></li>
	  			<li><a class="waves-effect waves-indigo dropdown-button" data-activates="settingsDropDown">Settings<i class="material-icons">settings</i></a>
		  			<ul id="settingsDropDown" class="dropdown-content">
		  				<li><a class="waves-effect waves-indigo">Settings<i class="material-icons">settings</i></a></li>
		  				<li><a class="waves-effect waves-indigo" >Change Password<i class="material-icons">vpn_key</i></a></li>
		  				<li><a class="waves-effect waves-indigo" >Help<i class="material-icons">help_outline</i></a></li>
		  				<li><a class="waves-effect waves-indigo" >About<i class="material-icons">info_outline</i></a></li>
		  				<li><a class="waves-effect waves-indigo" href="http://localhost:8080/maven/login.xhtml">Logout<i class="material-icons">power_settings_new</i></a></li>
		  			</ul>
	  			</li>
  			</ul>
   		</div>
    	<div id="tableDiv" class="row" style="width: auto; height: 80%; position: absolute; top: 50%; left: 20%; right: 64px; transform: translate(32px, -50%);">
    		<div id="departmentsDiv" style="display: none;">
    			<div class="col s12" style="padding: 0;">
	    			<button id="addDepartmentButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Department')">Add</button>
					<button id="doneDepartmentButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Department')">Done</button>
					<button id="cancelDepartmentButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Department')">Cancel</button>
				</div>
				<h:form styleClass="inputDepartmentForm">
	    			<div id="inputDepartmentDiv" style="display: none;">
						<div class="input-field col s4">
							<input type="text" class="validate" jsf:required="true" jsf:value="#{manageDepartmentBean.code}" maxlength="16" data-length="16" />
							<label>Code</label>
						</div>
						<div class="input-field col s4">
							<input type="text" class="validate" jsf:required="true" jsf:value="#{manageDepartmentBean.name}" maxlength="45" data-length="45" />
							<label>Name</label>
						</div>
						<div class="input-field col s4">
							<input type="text" class="validate" jsf:required="true" jsf:value="#{manageDepartmentBean.budget}" maxlength="9" data-length="9" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" />
							<label>Budget</label>
						</div>
					</div>
					<h:commandButton styleClass="addDepartmentHiddenButton" style="display: none;" actionListener="#{manageDepartmentBean.addDepartment()}">
						<f:ajax execute="@form" render="departmentsTable" />
					</h:commandButton>
					<h:commandButton styleClass="editDepartmentHiddenButton" style="display: none;" actionListener="#{manageDepartmentBean.editDepartment()}">
						<f:ajax execute="@form" render="departmentsTable" />
					</h:commandButton>
					<h:dataTable id="departmentsTable" styleClass="highlight" value="#{manageDepartmentBean.departments}" var="department">
						<h:column>
							<f:facet name="header">
								<h:outputText value="Code" />
							</f:facet>
							#{department.code}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							#{department.name}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Budget" />
							</f:facet>
								#{department.budget}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText styleClass="right" value="Action" />
							</f:facet>
							<h:commandLink styleClass="material-icons secondary-content" value="delete" action="#{manageDepartmentBean.removeDepartment(department)}" onclick="removeButtonClicked('Department')">
								<f:ajax execute="@this" render="@form" />
							</h:commandLink>
							<h:commandLink styleClass="material-icons secondary-content" value="edit" action="#{manageDepartmentBean.setDepartmentToEditOrRestore(department)}" onclick="editButtonClicked('Department')">
								<f:ajax />
							</h:commandLink>
							<h:commandButton styleClass="restoreDepartmentHiddenButton" style="display: none;" actionListener="#{manageDepartmentBean.restoreDepartment()}">
								<f:ajax execute="@this" render="@form" />
							</h:commandButton>
						</h:column>
					</h:dataTable>
				</h:form>
			</div>
			<div id="sectorsDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addSectorButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Sector')">Add</button>
					<button id="doneSectorButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Sector')">Done</button>
					<button id="cancelSectorButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Sector')">Cancel</button>
				</div>
				<h:form styleClass="inputSectorForm">
	    			<div id="inputSectorDiv" style="display: none;">
						<div class="input-field col s3">
							<input  type="text" class="validate" jsf:value="#{manageSectorBean.code}" jsf:required="true" maxlength="16" data-length="16" />
							<label>Code</label>
						</div>
						<div class="input-field col s3">
							<input type="text" class="validate" jsf:value="#{manageSectorBean.name}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Name</label>
						</div>
						<div class="input-field col s3">
							<f:ajax>
								<h:selectOneMenu value="#{manageSectorBean.departmentName}" required="true" >
									<f:selectItems value="#{manageDepartmentBean.departments}" var="department" itemValue="#{department.name}" itemLabel="#{department.name}" />
								</h:selectOneMenu>
							</f:ajax>
							<label>Department</label>
						</div>
						<div class="input-field col s3">
							<f:ajax>
								<h:selectOneMenu value="#{manageSectorBean.employeeFullName}" required="false" >
									<f:selectItem itemValue="" itemLabel="None" />
									<f:selectItems value="#{manageEmployeeBean.employees}" var="employee" itemValue="#{employee.fullName}" itemLabel="#{employee.fullName}" />
								</h:selectOneMenu>
							</f:ajax>
							<label>Manager</label>
						</div>
					</div>
					<h:commandButton styleClass="addSectorHiddenButton" style="display: none;" actionListener="#{manageSectorBean.addSector()}">
						<f:ajax execute="@form" render="sectorsTable" />
					</h:commandButton>
					<h:commandButton styleClass="editSectorHiddenButton" style="display: none;" actionListener="#{manageSectorBean.editSector()}">
						<f:ajax execute="@form" render="sectorsTable" />
					</h:commandButton>
					<h:dataTable id="sectorsTable" styleClass="highlight" value="#{manageSectorBean.sectors}" var="sector">
						<h:column>
							<f:facet name="header">
								<h:outputText value="Code" />
							</f:facet>
							#{sector.code}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							#{sector.name}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Department" />
							</f:facet>
								#{sector.department.name}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Manager" />
							</f:facet>
								#{sector.employee.fullName}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText styleClass="right" value="Action" />
							</f:facet>
							<h:commandLink styleClass="material-icons secondary-content" value="delete" action="#{manageSectorBean.removeSector(sector)}" onclick="removeButtonClicked('Sector')">
								<f:ajax execute="@this" render="@form" />
							</h:commandLink>
							<h:commandLink styleClass="material-icons secondary-content" value="edit" action="#{manageSectorBean.setSectorToEditOrRestore(sector)}" onclick="editButtonClicked('Sector')">
								<f:ajax />
							</h:commandLink>
							<h:commandButton styleClass="restoreSectorHiddenButton" style="display: none;" actionListener="#{manageSectorBean.restoreSector()}">
								<f:ajax execute="@this" render="@form" />
							</h:commandButton>
						</h:column>
					</h:dataTable>
				</h:form>
			</div>
			<div id="rolesDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addRoleButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Role')">Add</button>
					<button id="doneRoleButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Role')">Done</button>
					<button id="cancelRoleButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Role')">Cancel</button>
				</div>
				<h:form styleClass="inputRoleForm">
	    			<div id="inputRoleDiv" style="display: none;">
						<div class="input-field col s6">
							<input  type="text" class="validate" jsf:value="#{manageRoleBean.name}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Name</label>
						</div>
						<div class="input-field col s6">
							<f:ajax>
								<h:selectManyMenu value="#{manageRoleBean.permissionNames}" required="true">
									<f:selectItem itemValue="" itemLabel="None" />
									<f:selectItems value="#{managePermissionBean.permissions}" var="permission" itemValue="#{permission.name}" itemLabel="#{permission.name}" />
								</h:selectManyMenu>
							</f:ajax>
							<label>Permissions</label>
						</div>
					</div>
					<h:commandButton styleClass="addRoleHiddenButton" style="display: none;" actionListener="#{manageRoleBean.addRole()}">
						<f:ajax execute="@form" render="rolesTable" />
					</h:commandButton>
					<h:commandButton styleClass="editRoleHiddenButton" style="display: none;" actionListener="#{manageRoleBean.editRole()}">
						<f:ajax execute="@form" render="rolesTable" />
					</h:commandButton>
					<h:dataTable id="rolesTable" styleClass="highlight bordered card hoverable" value="#{manageRoleBean.roles}" var="role">
						<h:column headerClass="indigo white-text">
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							#{role.name}
						</h:column>
						<h:column headerClass="indigo white-text">
							<f:facet name="header">
								<h:outputText value="Permissions" />
							</f:facet>
							<ul class="collapsible left" data-collapsible="accordion" style="width: 100%;">
								<li>
									<div class="collapsible-header">Show</div>
									<div class="collapsible-body">
										<ui:repeat value="#{role.permissions}" var="permission">
											<div>#{permission.name}
												<h:commandLink styleClass="material-icons secondary-content" value="delete" action="#{manageRoleBean.removePermissionFromRole(role, permission)}" onclick="removeButtonClicked('RolePermission')">
													<f:ajax execute="@this" render="@form" />
												</h:commandLink>
											</div>
										</ui:repeat>
									</div>
								</li>
							</ul>
						</h:column>
						<h:column headerClass="indigo white-text">
							<f:facet name="header">
								<h:outputText styleClass="right" value="Action" />
							</f:facet>
							<h:commandLink styleClass="material-icons secondary-content" value="delete" action="#{manageRoleBean.removeRole(role)}" onclick="removeButtonClicked('Role')">
								<f:ajax execute="@this" render="@form" />
							</h:commandLink>
							<h:commandLink styleClass="material-icons secondary-content" value="edit" action="#{manageRoleBean.setRoleToEditOrRestore(role)}" onclick="editButtonClicked('Role')">
								<f:ajax />
							</h:commandLink>
							<h:commandButton styleClass="restoreRoleHiddenButton" style="display: none;" actionListener="#{manageRoleBean.restoreRole()}">
								<f:ajax execute="@this" render="@form" />
							</h:commandButton>
							<h:commandButton styleClass="restoreRolePermissionHiddenButton" style="display: none;" actionListener="#{manageRoleBean.restorePermissionFromRole()}">
								<f:ajax execute="@this" render="@form" />
							</h:commandButton>
						</h:column>
					</h:dataTable>
				</h:form>
			</div>
			<div id="permissionsDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addPermissionButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Permission')">Add</button>
					<button id="donePermissionButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Permission')">Done</button>
					<button id="cancelPermissionButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Permission')">Cancel</button>
				</div>
				<h:form styleClass="inputPermissionForm">
	    			<div id="inputPermissionDiv" style="display: none;">
						<div class="input-field col s6">
							<input  type="text" class="validate" jsf:value="#{managePermissionBean.name}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Name</label>
						</div>
						<div class="input-field col s6">
							<f:ajax>
								<h:selectManyMenu value="#{managePermissionBean.roleNames}" required="true">
									<f:selectItem itemValue="" itemLabel="None" />
									<f:selectItems value="#{manageRoleBean.roles}" var="role" itemValue="#{role.name}" itemLabel="#{role.name}" />
								</h:selectManyMenu>
							</f:ajax>
							<label>Roles</label>
						</div>
					</div>
					<h:commandButton styleClass="addPermissionHiddenButton" style="display: none;" actionListener="#{managePermissionBean.addPermission()}">
						<f:ajax execute="@form" render="permissionsTable" />
					</h:commandButton>
					<h:commandButton styleClass="editPermissionHiddenButton" style="display: none;" actionListener="#{managePermissionBean.editPermission()}">
						<f:ajax execute="@form" render="permissionsTable" />
					</h:commandButton>
					<h:dataTable id="permissionsTable" styleClass="highlight" value="#{managePermissionBean.permissions}" var="permission">
						<h:column>
							<f:facet name="header">
								<h:outputText value="Name" />
							</f:facet>
							#{permission.name}
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText value="Roles" />
							</f:facet>
							<ul class="collapsible left" data-collapsible="accordion" style="width: 100%;">
								<li>
									<div class="collapsible-header">Show</div>
									<div class="collapsible-body">
										<ui:repeat value="#{permission.roles}" var="role">
											<div>#{role.name}
												<h:commandLink styleClass="material-icons secondary-content" value="delete" action="#{managePermissionBean.removeRoleFromPermission(permission, role)}" onclick="removeButtonClicked('PermissionRole')">
													<f:ajax execute="@this" render="@form" />
												</h:commandLink>
											</div>
										</ui:repeat>
									</div>
								</li>
							</ul>
						</h:column>
						<h:column>
							<f:facet name="header">
								<h:outputText styleClass="right" value="Action" />
							</f:facet>
							<h:commandLink styleClass="material-icons secondary-content" value="delete" action="#{managePermissionBean.removePermission(permission)}" onclick="removeButtonClicked('Permission')">
								<f:ajax execute="@this" render="@form" />
							</h:commandLink>
							<h:commandLink styleClass="material-icons secondary-content" value="edit" action="#{managePermissionBean.setPermissionToEditOrRestore(permission)}" onclick="editButtonClicked('Permission')">
								<f:ajax />
							</h:commandLink>
							<h:commandButton styleClass="restorePermissionHiddenButton" style="display: none;" actionListener="#{managePermissionBean.restorePermission()}">
								<f:ajax execute="@this" render="@form" />
							</h:commandButton>
							<h:commandButton styleClass="restorePermissionRoleHiddenButton" style="display: none;" actionListener="#{managePermissionBean.restoreRoleFromPermission()}">
								<f:ajax execute="@this" render="@form" />
							</h:commandButton>
						</h:column>
					</h:dataTable>
				</h:form>
			</div>
			<div id="usersDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addUserButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('User')">Add</button>
					<button id="doneUserButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('User')">Done</button>
					<button id="cancelUserButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('User')">Cancel</button>
				</div>
				<h:dataTable id="usersTable" styleClass="highlight" value="#{manageUserBean.users}" var="user">
					<h:column>
						<f:facet name="header">
							<h:outputText value="First Name" />
						</f:facet>
						#{user.firstName}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Middle Name" />
						</f:facet>
						#{user.middleName}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Last Name" />
						</f:facet>
						#{user.lastName}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Username" />
						</f:facet>
						#{user.username}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Password" />
						</f:facet>
						#{user.password}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Department" />
						</f:facet>
						#{user.department.name}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Role" />
						</f:facet>
						<h:form>
							#{user.role.name}
							<h:commandLink class="material-icons secondary-content" value="delete" action="#{manageUserBean.removeUser(user.username)}">
								<f:ajax execute="@form" render="@form usersTable" />
							</h:commandLink>
							<h:commandLink class="material-icons secondary-content" value="edit" onclick="editButtonClicked('User')">
								<f:ajax execute="none" />
							</h:commandLink>
						</h:form>
					</h:column>
				</h:dataTable>
				<br />
				<h:form styleClass="inputUserForm">
	    			<div id="inputUserDiv" style="display: none;">
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.firstName}" jsf:required="true" maxlength="16" data-length="16" />
							<label>First Name</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.middleName}" jsf:required="true" maxlength="16" data-length="16" />
							<label>Middle Name</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.lastName}" jsf:required="true" maxlength="16" data-length="16" />
							<label>Last Name</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.username}" jsf:required="true" maxlength="16" data-length="16" />
							<label>Username</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.password}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Password</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.department}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Department</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageUserBean.role}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Role</label>
						</div>
					</div>
					<h:commandButton styleClass="addUserHiddenButton" style="display: none;" actionListener="#{manageUserBean.addUser()}">
						<f:ajax execute="@form" render="usersTable" />
					</h:commandButton>
				</h:form>
			</div>
			<div id="countriesDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addCountryButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Country')">Add</button>
					<button id="doneCountryButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Country')">Done</button>
					<button id="cancelCountryButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Country')">Cancel</button>
				</div>
				<h:dataTable id="countriesTable" styleClass="highlight" value="#{manageCountryBean.countries}" var="country">
					<h:column>
						<f:facet name="header">
							<h:outputText value="Name" />
						</f:facet>
						<h:form>
							#{country.name}
							<h:commandLink class="material-icons secondary-content" value="delete" action="#{manageCountryBean.removeCountry(country.name)}">
								<f:ajax execute="@form" render="@form countriesTable" />
							</h:commandLink>
							<h:commandLink class="material-icons secondary-content" value="edit" onclick="editButtonClicked('Country')">
								<f:ajax execute="none" />
							</h:commandLink>
						</h:form>
					</h:column>
				</h:dataTable>
				<br />
				<h:form styleClass="inputCountryForm">
	    			<div id="inputCountryDiv" style="display: none;">
						<div class="input-field col s4">
							<input type="text" class="validate" jsf:value="#{manageCountryBean.name}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Name</label>
						</div>
					</div>
					<h:commandButton styleClass="addCountryHiddenButton" style="display: none;" actionListener="#{manageCountryBean.addCountry()}">
						<f:ajax execute="@form" render="countriesTable" />
					</h:commandButton>
				</h:form>
			</div>
			<div id="employeesDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addEmployeeButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Employee')">Add</button>
					<button id="doneEmployeeButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Employee')">Done</button>
					<button id="cancelEmployeeButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Employee')">Cancel</button>
				</div>
				<h:dataTable id="employeesTable" styleClass="highlight" value="#{manageEmployeeBean.employees}" var="employee">
					<h:column>
						<f:facet name="header">
							<h:outputText value="SSN" />
						</f:facet>
						#{employee.ssn}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Full Name" />
						</f:facet>
						#{employee.fullName}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="CellNo" />
						</f:facet>
						#{employee.cellNo}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Wage" />
						</f:facet>
						#{employee.wage}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Country" />
						</f:facet>
						#{employee.country.name}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Sector" />
						</f:facet>
						<h:form>
							#{employee.sector.name}
							<h:commandLink class="material-icons secondary-content" value="delete" action="#{manageEmployeeBean.removeEmployee(employee.ssn)}">
								<f:ajax execute="@form" render="@form employeesTable" />
							</h:commandLink>
							<h:commandLink class="material-icons secondary-content" value="edit" onclick="editButtonClicked('Employee')">
								<f:ajax execute="none" />
							</h:commandLink>
						</h:form>
					</h:column>
				</h:dataTable>
				<br />
				<h:form styleClass="inputEmployeeForm">
	    			<div id="inputEmployeeDiv" style="display: none;">
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageEmployeeBean.ssn}" jsf:required="true" maxlength="16" data-length="16" />
							<label>SSN</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageEmployeeBean.fullName}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Full Name</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageEmployeeBean.cellNo}" jsf:required="true" maxlength="45" data-length="45" onkeypress="if((event.which &lt; 48 || event.which &gt; 57) &amp;&amp; event.which != 43) return false;" />
							<label>CellNo</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageEmployeeBean.wage}" jsf:equired="true" maxlength="16" data-length="16" onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" />
							<label>Wage</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageEmployeeBean.country}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Country</label>
						</div>
						<div class="input-field col s2">
							<input type="text" class="validate" jsf:value="#{manageEmployeeBean.sector}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Sector</label>
						</div>
					</div>
					<h:commandButton styleClass="addEmployeeHiddenButton" style="display: none;" actionListener="#{manageEmployeeBean.addEmployee()}">
						<f:ajax execute="@form" render="employeesTable" />
					</h:commandButton>
				</h:form>
			</div>
			<div id="childrenDiv" style="display: none;">
				<div class="col s12" style="padding: 0;">
	    			<button id="addChildButton" style="text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="addButtonClicked('Child')">Add</button>
					<button id="doneChildButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="doneButtonClicked('Child')">Done</button>
					<button id="cancelChildButton" style="display: none; text-transform: none; border-radius: 0;" class="waves-effect waves-light btn right" onclick="cancelButtonClicked('Child')">Cancel</button>
				</div>
				<h:dataTable id="childrenTable" styleClass="highlight" value="#{manageChildBean.children}" var="child">
					<h:column>
						<f:facet name="header">
							<h:outputText value="Full Name" />
						</f:facet>
						#{child.fullName}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Age" />
						</f:facet>
						#{child.age}
					</h:column>
					<h:column>
						<f:facet name="header">
							<h:outputText value="Parent" />
						</f:facet>
						<h:form>
							#{child.employee.fullName}
							<h:commandLink class="material-icons secondary-content" value="delete" action="#{manageChildBean.removeChild(child.fullName)}">
								<f:ajax execute="@form" render="@form childrenTable" />
							</h:commandLink>
							<h:commandLink class="material-icons secondary-content" value="edit" onclick="editButtonClicked('Child')">
								<f:ajax execute="none" />
							</h:commandLink>
						</h:form>
					</h:column>
				</h:dataTable>
				<br />
				<h:form styleClass="inputChildForm">
	    			<div id="inputChildDiv" style="display: none;">
						<div class="input-field col s4">
							<input type="text" class="validate" jsf:value="#{manageChildBean.fullName}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Full Name</label>
						</div>
						<div class="range-field col s4">
							<label>Age</label>
							<input type="range" min="0" max="50" jsf:value="#{manageChildBean.age}" jsf:required="true" />
						</div>
						<div class="input-field col s4">
							<input type="text" class="validate" jsf:value="#{manageChildBean.parent}" jsf:required="true" maxlength="45" data-length="45" />
							<label>Parent</label>
						</div>
					</div>
					<h:commandButton styleClass="addChildHiddenButton" style="display: none;" actionListener="#{manageChildBean.addChild()}">
						<f:ajax execute="@form" render="childrenTable" />
					</h:commandButton>
				</h:form>
			</div>
		</div>
	</h:body>
</html>